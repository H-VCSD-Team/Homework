- # SW테스팅 2일차

  **SW 제품 품질 특성**

  ------

  **ISO 25010 ( ISO 9126 ) SW품질 정의 ( 비기능 요구사항 )**

  - 기능성 : 요구되는 기능을 만족
  - 신뢰성 : 결함 없이 의도된 작업을 수행하는 능력
  - 사용성 : 사용자가 배우기 쉬움 예) 아이폰
  - 효율성 : 자원을 얼마나 효율적으로 사용할지
  - 유지보수성 : 수정 변경의 용이성
  - 이식성 : 다양한 환경에서 응용 가능 예) 윈도우 & Mac 에서 쓸 수 있음
  - 상호운영성 : 다른 시스템과 상호
  - 보안성 : 외부 헤커의 침입으로부터 보호

  ## **SW품질 메트릭**

  ------

  - 소스코드의 품질이 얼마나 높은지 나타내는 수단
  - 도구를 이용하여 자동화 필요
  - 종류 : 규모, 의존성, 복잡도, 테스트, 정적분석

  **규모 관련 종류**

  - 전체 라인수(LOC) Line Of Code 라인수

  - 주석을 제외한 라인 수

  - 주석 비율

    IT: 왠만하면 주석 달지 말기 임베디드: 주석의 비율을 적어도 20% 이상 차지하도록 한다 ( 유지보수 측면 )

  - 함수별 라인 수

    한 함수내의 길이가 피벗으로 돌렸을때 육안으로 들어올수 있게 만들자 (한 함수는 80줄 이상 넘으면 안된다)

  **복잡도 관련**

  - 순환 복잡도( Cyclomatic Complexity)

    분기, 반복을 일으키는 건 복잡도 일으킴

    분기, 반복 얼마나 자주일어나는지 나타냄

    복잡고< 10 권고 → 분기와 반복문이 9개 넘기면 안된다

  - nesting depth

    분기, 반복문, 조건문 얼마나 많은지

    <5 권고

  - Divide and Conquer

    함수가 커지면 기능마다 함수를 쪼개고 병합해야함

  ***\**\*\*\*\*\*\*\*\*\*\*\*\*\*중복 코드( Duplicated Code )\*\*\*\*\*\*\*\*\*\*\*\*\*\**\***

  - 같은 기능이 여러 함수에서 호출되는 경우, 복사하는 대신 같은 기능을 따로 함수를 빼서 함수 내부에서 그 함수를 호출한다

  ## 동적 테스트 → 시험에 나옴!

  ------

  - 비정상 테스트를 많이 하는게
  - 가장 효율적으로 테스트 하는것이 중요
  - 결함을 발견하는것이 목표

  ## Testing vs Debugging

  ------

  **Testing**

  - 알려지지 않은 숨겨진 결함의 발견
  - 개발자 + 외부의 제 3자 가 수정
  - Re-Test : 결함을 수정했을때 한번더 확인함( 모듈 일부분만 )
  - 회귀 테스트( 회귀 결함 ) :
    - 결함을 수정한 후 다른 모듈과의 영향을 확인하기 위해 모든 테스트 케이스를 전수 테스트 함
    - 새로운 결함의 조치, 리팩토링, 새로운 기능의 추가 될때 회귀 결함 발생할 수 있음

  **Debugging**

  - 이미 알고 있는 결함의 수정
  - 결함의 정확한 위치 파악, 결함의 이유 파악
  - 개발자가 수정

  ## V모델

  ------

  - 폭포수 모델을 반복하여 실행함
  - 개발 process에서 testing을 중요하게 봄
  - 모든 lifecycle에서 testing을 추가함
  - 테스트 목적에 맞게 Test Case 작성해야 함
  - 살충제 Paradox : 한가지 Test Case를 계속 사용하다 보면 그 Test Cast 에 대한 내성이 생겨 다른 오류를 잡기 어렵다 → Test Case 또한 개선해야 한다

  **V모델 테스트**

  - 인수테스트: 고객요구사항 반영됐는지( 베타 테스트 )
  - 시스템 : 우리가 원하는대로(SWrs) 설계했는지
  - 통합 테스팅: 아키텍처 대로 구현햇는지 검증
  - 단위 테스트: 모듈별로 검증

  Test Basis

  테스트의 근거 산출물

  Test Basis를 보고 Test Case를 만든다

  Test Basis 종류

  - 인수테스트: 요구사항 정의서
  - 시스템 테스트: SWrs, 요구사항 분석서
  - 통합 테스트: 아키텍처
  - 단위테스트: 상세 설계서 + 소스코드

  ## V모델 테스트 종류

  1. **단위 테스트**
     - 모듈(소스코드)이 정확히 구현되었는지 확인
     - 테스팅을 단독적으로 실행할 수 있는 환경 필요
     - 스텁(stub) : 테스팅 대상 모듈에서 호출하는 모듈
  2. **통합 테스트**
     - bigbang 기법
     - ..기법(책에 있는거 찾아서 적기)
     - ..기법
  3. **시스템 테스팅**
     - swRS(요구사항 명세서) 확인
     - 사용자 요구사항 만족 되었는지 검사
     - 팀에서 하는 마지막 테스팅
  4. **인수 테스트**
     - 고객이 테스트함 → 사용자의 실 운영 환경에서 테스트한다
     - 사용자에게 인수되기전 사용자가 테스트함
     - 예) 베타 테스트

  # Test Case

  ------

  특정 요구사항 구현되었는지 검증해야 함

  테스트 조건, 입력값, 예상 출력값, 수행한 결과

  **Test Case 필수항목**

  입력값, 예상 출력 값, 테스트 절차

  예) 입력값 : ID , PW 테스트 절차 : ID, PW 입력 예상 출력 값: 로그인 완료

  테스트 수행 후 예상 출력값과 실제 출력값이 동일하게 나오는지 확인

  # Black Box vs White Box Test

  ------

  **1. Black Box Test( 기능테스트 )**

  1. BlackBox Test 특징

  로직(절차)보다는 출력값에 초점을 주고 테스트함

  입력 값을 다양하게 함

  요구사항 명세서 or 설계서로부터 TestCase 추출

  시스템 테스트에서 많이 사용

  1. BlackBox Test 종류

  2.1 구문 테스팅 (Syntax Testing)

  Input 값을 적합(정상)과 부적합(비정상)을 분류하고 예상되는 결과를 검증

  2.2 동등 분할 (Equivalece Partitioning)

  구문 테스팅에서 입력값에 정량적인 수치, 범위가 있을때 각 범위의 대표값을 이용하여 테스팅함

  2.3 경계값 분석 ( Boundary Value Analysis )

  input값을 경계값으로 설정하여 결과 분석

  중간값 보다는 경계값에서 오류가 발생할 확률 높기 때문

  2.4 페어와이즈

  모든 경우의 수 테스트 할수 없을때

  테스트 케이스가 최소한 한번씩 조합을 이루게 하여 테스트함

  모든 케이스 테스트 한것은 아니다!

  https://github.com/microsoft/pict

  2.5 기타

  인터페이스 테스트 :

  백투백 테스트 :

  결함주입 테스트 : Safety mechanism이 올바로 작동하는지 확인 위해 결함 주입

  에러 추정 테스트 : 과거의 오류를 기반으로 테스트케이스 식별

  1. Black Box Test 예제

  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2ad3c401-0c0f-4fbd-bdab-128210ad6b5f/Untitled.png)

  **2. White Box Test**

  1. White Box Test 특징

  알고리즘의 오류를 찾아내는 테스트

  단위 테스트 할때 많이 사용함( 개발자가 주로 수행함 )

  모든 경로를 따라갈 수 있도록 Input case 생성함

  # Safety

  ------

  **의미**

  Freedom from Unacceptable Risk

  Failure가 일어나도 빨리 해결책을 찾아 사고를 안나게 하는것

  ## **Functional Safety(기능안전)**

  **의미**

  “No unacceptable risk due to hazards caused by malfunctioning behaviors of E/E systems”

  전기전자 시스템의 오동작으로 인해서 발생하는 해저드로 인한 unacceptable risk 에 대한 보호대책

  **Hazard**

  사람의 건강에 영향을 주는 손상을 일으킬 수 있는 잠재적인 요인

  예) 차량 내 에어백이 의도치 않게 터짐

  **종류**

  결함 예방(Prevention)

  사람이 실수하지 않도록 방지

  결함 검출(Detection)

  정적/동적 테스팅,코드리뷰

  결함 제거(Removal)

  디버깅

  결함 허용(Tolerance)

  런타임 결함 발생해도 오류 발생하지 않게 함

  Reduncancy, Diversity

  ## Hara(Hazard Analysis & Risk Assessment)

  Hara를 지속적으로 반복하여 ASIL 등급을 결정한다

  **차량 시스템 안전 3요소**

  1. Safety
     - 의도치 않게 위험 발생( ISO 26262 )
  2. Security
     - 보안
     - Threat (ISO/SAE 21434, TARA)
  3. Software Weakness
     - Weakness가 발생하더라도 안전하게
     - 예) ADAS 시스템 카메라 시스템 화질 낮음, 눈이 옴
     - SOTIF 참고